<!DOCTYPE html>
<html>
<head>
  <title>Generate Quotation</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid #ccc; padding: 6px; }
    input { width: 100%; }
    button { margin-top: 10px; padding: 6px 12px; }
  </style>
</head>

<body>

<h2>Generate Quotation</h2>

<form method="POST" action="/generate-quotation">

  <label>Client Name</label><br>
  <input name="client_name" required><br><br>

  <label>Quotation No</label><br>
  <input name="quote_no" required><br><br>

  <table id="itemsTable">
    <tr>
      <th>Description</th>
      <th>Qty</th>
      <th>Unit Price</th>
      <th>Action</th>
    </tr>

    <tr>
      <td><input name="desc[]" required></td>
      <td><input name="qty[]" type="number" required></td>
      <td><input name="price[]" type="number" step="0.01" required></td>
      <td><button type="button" onclick="removeRow(this)">❌</button></td>
    </tr>
  </table>

  <button type="button" onclick="addRow()">➕ Add Row</button><br>
  <button type="submit">Generate PDF</button>

</form>

<script>
function addRow() {
  const table = document.getElementById("itemsTable");
  const row = table.insertRow(-1);
  row.innerHTML = `
    <td><input name="desc[]" required></td>
    <td><input name="qty[]" type="number" required></td>
    <td><input name="price[]" type="number" step="0.01" required></td>
    <td><button type="button" onclick="removeRow(this)">❌</button></td>
  `;
}

function removeRow(btn) {
  if (document.getElementById("itemsTable").rows.length > 2) {
    btn.closest("tr").remove();
  }
}
</script>

</body>
</html>